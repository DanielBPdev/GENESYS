<?xml version="1.0" encoding="UTF-8" ?>
<entity-mappings xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd"
	version="2.1">

	<!-- ESPACIO PARA NAMED QUERIES JPA -->
	<named-native-query name="consultar.empleador.po.perId" 
	 result-set-mapping="consultar.empleador.po.perId.mapping">
        <query>
            select e.empId, pernumeroIdentificacion, perTipoIdentificacion 
				from persona 
				join empresa em on perid = em.empPersona 
				join empleador e on e.empEmpresa = em.empId 
				where perId = :perId
        </query>
    </named-native-query>

	    <sql-result-set-mapping name="consultar.empleador.po.perId.mapping">
        <constructor-result target-class="com.asopagos.dto.modelo.EmpleadorModeloDTO">
            <column name="empId" class="java.lang.Long"/>
            <column name="perTipoIdentificacion" class="java.lang.String"/>
            <column name="pernumeroIdentificacion" class="java.lang.String"/>
        </constructor-result>
    </sql-result-set-mapping>

	<!-- ESPACIO PARA NAMED QUERIES NATIVOS -->

</entity-mappings>