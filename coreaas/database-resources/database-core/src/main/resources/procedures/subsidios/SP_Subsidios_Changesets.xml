<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<changeSet author="heinsohn" id="1" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="DROP_Subsidios_SP.sql" relativeToChangelogFile="true"
			splitStatements="false" stripComments="false" />
	</changeSet>

	<!-- Store Procedures for User History SP -->
	<changeSet author="heinsohn" id="2" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_CondicionesTrabajadorFallecido_trabajador.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="heinsohn" id="3" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_CondicionesBeneficiarioFallecido_beneficiario.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="heinsohn" id="4" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_CotizanteConSubsidioPeriodo.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>	

	<changeSet author="heinsohn" id="5" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="Azure/USP_SM_GET_InsertCuentaAdministradorSubsidio.sql" 
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="heinsohn" id="6" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="Azure/USP_SM_GET_InsertDetalleSubsidioAsignado.sql" 
			relativeToChangelogFile="true"	splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="heinsohn" id="7" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="Azure/USP_SM_GET_InsertDescuentosSubsidioAsignado.sql" 
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="heinsohn" id="8" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="Azure/USP_SM_GET_InsertDetalleSubsidioAsignadoProgramado.sql" 
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	
	<changeSet author="heinsohn" id="9" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_InsertPeriodo.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="heinsohn" id="10" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="Azure/USP_SM_GET_InsertTablasMigracion.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="heinsohn" id="11" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_UTIL_EliminarDispersion.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="jfajardor" id="23" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_LiquidacionesFallecimientoProgramado.sql" relativeToChangelogFile="true"
			splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="heinsohn" id="12" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_UTIL_GET_CrearRevisionBloqueoCuotaMonetaria.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="jfajardor" id="23" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_LiquidacionesFallecimientoProgramado.sql" relativeToChangelogFile="true"
			splitStatements="false" stripComments="false" />
	</changeSet>	
	<changeSet author="heinsohn" id="13" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_UTIL_GET_CrearRevisionDesbloqueoCuotaMonetaria.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="heinsohn" id="14" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="Azure/USP_SM_GET_InsertCuentaAdministradorSubsidioProgramada.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="heinsohn" id="15" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_ConsultarDispersionMontoLiquidado.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="heinsohn" id="16" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_ListadoAbonosPorVencimientoYPrescripcion.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="heinsohn" id="17" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_ListadoAbonosPorVencimientoYPrescripcionResumen.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="Juan" id="18" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="Subsidio_Especie_Liq_Manual.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="Juan" id="23" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_Calculo_Novedades_Fovis_Pendientes.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<!-- Rutina de asignacion de permisos (debe estar siempre al final) -->
	<changeSet author="heinsohn" id="500" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="GRANT_Subsidios_SP.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="Juan" id="19" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_SM_GET_ListadoArchivoTransDetaSubsidio.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="JuanM" id="20" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="DATOS_ESPECIFICICOS_FALLECIMIENTO.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>
	<changeSet author="Juan" id="21" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="TRUNCATE_CORE_FALLECIMIENTO.sql"
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="keyner" id="22" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_UTIL_PersonaExclusionSumatoriaSalario_CoreToSubsidio.sql" 
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="varias" id="23" runAlways="true"
		runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
			path="USP_Consultar_Postulaciones_Para_Legalizacion.sql" 
			relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

	<changeSet author="varias" id="24" runAlways="true"
			   runOnChange="true">
		<sqlFile dbms="mssql" encoding="utf8" endDelimiter=";"
				 path="SP_ActualizarEstadisticasGenesys.sql"
				 relativeToChangelogFile="true" splitStatements="false" stripComments="false" />
	</changeSet>

</databaseChangeLog>